<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å°æœç”Ÿæ—¥å¿«ä¹</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { margin: 0; padding: 0; overflow: hidden; font-family: 'Comic Sans MS', 'å¹¼åœ†', sans-serif; background: #fdf2f8; }
        /* å¯†ç å¼¹çª—æ ·å¼ */
        .pwd-box { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: linear-gradient(135deg, #ffc1e9, #ff9ed8); display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 100; }
        .pwd-title { font-size: 50px; color: #fff; margin-bottom: 40px; text-shadow: 3px 3px 6px rgba(255, 255, 255, 0.5); }
        .pwd-input { width: 320px; height: 50px; padding: 0 20px; border: 4px solid #fff; border-radius: 30px; font-size: 20px; outline: none; margin-bottom: 30px; background: rgba(255, 255, 255, 0.8); }
        .btn-group { display: flex; gap: 30px; }
        .pwd-btn { width: 130px; height: 45px; border: none; border-radius: 25px; font-size: 18px; color: #ff66b2; font-weight: bold; cursor: pointer; background: #fff; box-shadow: 0 4px 10px rgba(255, 102, 178, 0.2); transition: all 0.3s ease; }
        .pwd-btn:hover { transform: scale(1.1); box-shadow: 0 6px 15px rgba(255, 102, 178, 0.3); }
        /* ç¥ç¦æ°”æ³¡é¡µé¢ */
        .bless-box { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; padding: 30px; display: none; background: #fdf2f8; }
        .bubble { position: absolute; padding: 18px 25px; border-radius: 22px 22px 22px 8px; background: linear-gradient(135deg, #ffd6e8, #ffb3d9); color: #fff; font-size: 18px; font-weight: 600; box-shadow: 0 5px 12px rgba(255, 179, 217, 0.3); opacity: 0; transform: scale(0.7) translateY(20px); transition: all 0.6s cubic-bezier(0.34, 1.56, 0.64, 1); z-index: 10; }
        .bubble::before { content: "ğŸ± "; font-size: 20px; }
        .bubble::after { content: ""; position: absolute; bottom: -10px; left: 25px; width: 18px; height: 18px; background: #ffb3d9; clip-path: polygon(0 0, 100% 100%, 0 100%); }
        /* ç²’å­ç”Ÿæ—¥é¡µé¢ */
        .birth-box { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: #fdf2f8; display: none; align-items: center; justify-content: center; flex-direction: column; z-index: 20; }
        #particle { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 1; }
        .birth-text { font-size: 70px; font-weight: bold; color: #ff66b2; text-shadow: 0 0 20px rgba(255, 102, 178, 0.4); opacity: 0; margin: 10px 0; z-index: 2; }
    </style>
</head>
<body>
    <!-- å¯†ç å¼¹çª— -->
    <div class="pwd-box" id="pwdBox">
        <div class="pwd-title">å°æœå°è‚š</div>
        <input type="password" class="pwd-input" id="pwdInput" placeholder="è¯·è¾“å…¥å¯†ç ">
        <div class="btn-group">
            <button class="pwd-btn" id="confirmBtn">ç¡®å®š</button>
            <button class="pwd-btn" id="cancelBtn">å–æ¶ˆ</button>
        </div>
    </div>

    <!-- ç¥ç¦æ°”æ³¡é¡µé¢ -->
    <div class="bless-box" id="blessBox"></div>

    <!-- ç²’å­ç”Ÿæ—¥é¡µé¢ -->
    <div class="birth-box" id="birthBox">
        <canvas id="particle"></canvas>
        <div class="birth-text" id="textTop">å°æœ</div>
        <div class="birth-text" id="textBottom">Happy Birthday</div>
    </div>

    <script>
        // å…ƒç´ è·å–
        const pwdBox = document.getElementById('pwdBox');
        const pwdInput = document.getElementById('pwdInput');
        const confirmBtn = document.getElementById('confirmBtn');
        const cancelBtn = document.getElementById('cancelBtn');
        const blessBox = document.getElementById('blessBox');
        const birthBox = document.getElementById('birthBox');
        const textTop = document.getElementById('textTop');
        const textBottom = document.getElementById('textBottom');
        const canvas = document.getElementById('particle');
        const ctx = canvas.getContext('2d');

        // å¯†ç éªŒè¯
        function verifyPwd() {
            if (pwdInput.value === '1223') {
                pwdBox.style.opacity = 0;
                setTimeout(() => { pwdBox.style.display = 'none'; showBless(); }, 500);
            } else {
                alert('å¯†ç é”™è¯¯ï¼Œè¯·é‡è¯•');
                pwdInput.value = '';
            }
        }
        confirmBtn.onclick = verifyPwd;
        cancelBtn.onclick = verifyPwd;
        pwdInput.onkeydown = (e) => { if (e.key === 'Enter') verifyPwd(); };

        // 30ç»„å°æœä¸“å±ç”Ÿæ—¥ç¥ç¦
        const blessList = [
            "å°æœç”Ÿæ—¥å¿«ä¹ï¼Œæ¯å¤©éƒ½ç”œç”œèœœèœœâœ¨",
            "ç¥å°æœæ–°å²æš´å¯Œæš´ç¾ï¼Œå¥½è¿è¿è¿",
            "å¯çˆ±å°æœï¼Œå¹³å®‰å–œä¹ï¼Œä¸‡äº‹é¡ºæ„",
            "å°æœç”Ÿæ—¥è¶…å¿«ä¹ï¼Œçƒ¦æ¼å…¨æ¸…é›¶ğŸ±",
            "æ„¿å°æœè¢«çˆ±åŒ…å›´ï¼Œæ¸©æŸ”å¸¸ä¼´",
            "æ–°ä¸€å²å°æœï¼Œé—ªé—ªå‘å…‰ï¼Œæœªæ¥å¯æœŸ",
            "å°æœç”Ÿæ—¥å¿«ä¹ï¼Œå¥åº·æ— å¿§ï¼Œå¼€å¿ƒåŠ å€",
            "ç¥å°æœæ—¥å­ç”œç”œï¼Œç¦æ°”æ»¡æ»¡",
            "è¶…å¯çˆ±çš„å°æœï¼Œç”Ÿæ—¥å–œä¹å‘€",
            "å°æœæ–°å²ï¼Œæ‰€æ±‚çš†å¦‚æ„¿ï¼Œæ‰€è¡Œçš†å¦é€”",
            "ç”Ÿæ—¥å¿«ä¹å°æœï¼Œç”œåº¦è¶…æ ‡å•¦",
            "æ„¿å°æœæ¯å¤©éƒ½æœ‰ç”œç”œçš„å¥½å¿ƒæƒ…",
            "å°æœè¶…æ£’çš„ï¼Œç”Ÿæ—¥å¿…é¡»å¿«ä¹ğŸ¥³",
            "ç¥å°æœå¹³å®‰å¥åº·ï¼Œå–œä¹å¸¸éš",
            "å°æœæ–°ä¸€å²ï¼Œæš´å¯Œå¥½è¿ï¼Œå¼€å¿ƒä¸åœ",
            "ç”Ÿæ—¥å¿«ä¹å°æœï¼Œæ¸©æŸ”åˆå‹‡æ•¢",
            "æ„¿å°æœè¢«å…¨ä¸–ç•Œåçˆ±ï¼Œä¸‡äº‹èƒœæ„",
            "å¯çˆ±å°æœï¼Œç”Ÿæ—¥å¼€å¿ƒï¼Œå²å²æ— å¿§",
            "ç¥å°æœæ—¥å­æ¸©æš–ï¼Œå¥½è¿å¸¸åœ¨",
            "å°æœç”Ÿæ—¥å¿«ä¹ï¼Œçƒ¦æ¼é€€æ•£ï¼Œå¿«ä¹æ»¡æ ¼",
            "æ–°å²å°æœï¼Œæš´å¯Œå˜ç¾ï¼Œå¿«ä¹ç¿»å€",
            "æ„¿å°æœå¹³å®‰é¡ºé‚ï¼Œä¸€è·¯ç¹èŠ±",
            "å°æœç”Ÿæ—¥è¶…ç”œï¼Œå¥½è¿è¶…æ»¡",
            "ç¥å°æœå¼€å¿ƒè‡³ä¸Šï¼Œä¸‡äº‹é¡ºå¿ƒ",
            "ç”Ÿæ—¥å¿«ä¹å°æœï¼Œè¢«å¹¸ç¦ç´§ç´§å›´ç»•",
            "å°æœæ–°å²ï¼Œå¥åº·å¹³å®‰ï¼Œå¿«ä¹å¸¸ä¼´",
            "æ„¿å°æœçœ¼é‡Œæœ‰å…‰ï¼Œå¿ƒé‡Œæœ‰çˆ±",
            "å¯çˆ±é™å®šå°æœï¼Œç”Ÿæ—¥å–œä¹å®‰åº·",
            "ç¥å°æœæš´å¯Œå¥½è¿ï¼Œæ—¥æ—¥å¼€å¿ƒ",
            "å°æœç”Ÿæ—¥å¿«ä¹ï¼Œå²å²å¸¸æ¬¢æ„‰ï¼Œå¹´å¹´çš†èƒœæ„"
        ];

        // æ˜¾ç¤ºç¥ç¦æ°”æ³¡
        function showBless() {
            blessBox.style.display = 'block';
            blessList.forEach((bless, index) => {
                const bubble = document.createElement('div');
                bubble.className = 'bubble';
                bubble.innerText = bless;
                blessBox.appendChild(bubble);

                // éšæœºä½ç½®ï¼Œé¿å…é®æŒ¡
                const maxX = window.innerWidth - 220;
                const maxY = window.innerHeight - 100;
                const x = Math.random() * maxX + 20;
                const y = Math.random() * maxY + 20;
                bubble.style.left = `${x}px`;
                bubble.style.top = `${y}px`;

                // é€ä¸ªå¼¹å‡ºï¼Œé—´éš”300ms
                setTimeout(() => {
                    bubble.style.opacity = 1;
                    bubble.style.transform = 'scale(1) translateY(0)';
                    // å…¨éƒ¨å¼¹å‡ºåè·³è½¬ç»ˆå±
                    if (index === blessList.length - 1) {
                        setTimeout(() => {
                            blessBox.style.opacity = 0;
                            setTimeout(() => { blessBox.style.display = 'none'; showBirth(); }, 600);
                        }, 1500);
                    }
                }, index * 300);
            });
        }

        // ç²’å­é…ç½®
        let particles = [];
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        window.onresize = () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            initParticles();
        };

        // ç²’å­ç±»
        class Particle {
            constructor() {
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * canvas.height;
                this.size = Math.random() * 4 + 1;
                this.speedX = Math.random() * 3 - 1.5;
                this.speedY = Math.random() * 3 - 1.5;
                this.color = `rgba(255, 102, 178, ${Math.random() * 0.7 + 0.3})`;
            }
            update(targetX, targetY) {
                // ç²’å­å‘æ–‡å­—èšç„¦
                const dx = targetX - this.x;
                const dy = targetY - this.y;
                this.x += dx * 0.006;
                this.y += dy * 0.006;
            }
            draw() {
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fillStyle = this.color;
                ctx.fill();
            }
        }

        // åˆå§‹åŒ–ç²’å­
        function initParticles() {
            particles = [];
            for (let i = 0; i < 1000; i++) particles.push(new Particle());
        }

        // ç»˜åˆ¶æ–‡å­—ï¼ˆç”¨äºç²’å­å®šä½ï¼‰
        function drawTargetText() {
            ctx.fillStyle = 'transparent';
            ctx.font = '70px Comic Sans MS, å¹¼åœ†';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.fillText('å°æœ', canvas.width / 2, canvas.height / 2 - 50);
            ctx.fillText('Happy Birthday', canvas.width / 2, canvas.height / 2 + 50);
        }

        // ç²’å­åŠ¨ç”»
        function animate() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            drawTargetText();
            const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
            
            particles.forEach(particle => {
                const pixelIndex = (Math.floor(particle.y) * canvas.width + Math.floor(particle.x)) * 4;
                const alpha = imageData.data[pixelIndex + 3];
                if (alpha > 10) {
                    particle.update(particle.x, particle.y);
                } else {
                    particle.update(canvas.width / 2 + (Math.random() - 0.5) * 300, canvas.height / 2 + (Math.random() - 0.5) * 200);
                }
                particle.draw();
            });
            requestAnimationFrame(animate);
        }

        // æ˜¾ç¤ºç»ˆå±ç²’å­ç”»é¢
        function showBirth() {
            birthBox.style.display = 'flex';
            initParticles();
            animate();
            // æ–‡å­—æ¸æ˜¾
            setTimeout(() => {
                textTop.style.opacity = 1;
                textTop.style.transition = 'opacity 2s ease';
            }, 800);
            setTimeout(() => {
                textBottom.style.opacity = 1;
                textBottom.style.transition = 'opacity 2s ease';
            }, 1500);
        }
    </script>
</body>
</html>
